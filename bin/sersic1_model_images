#!/usr/bin/env python

# Create Sersic 1D model list, based on Simard parameters
#
# MRB 2014-12-07
# 

import pdb
import getopt
import os
import sys
import numpy as np
import astropy.io.fits as pyfits
import dimage
from dimage.models import sersic1
import random

def main(argv):
    # Defaults
    take=None
    modelname=None

    # Parse header
    helpstr='sersic1d_model_list [-s seed] [-n number]'
    try:
        opts, args = getopt.getopt(argv,"ht:m:",
                                   ["help=","take=","modelname="])
    except getopt.GetoptError:
        print helpstr
        sys.exit(2)
    for opt, arg in opts:
        if opt == ("-h", "--help"):
            print helpstr;
            sys.exit()
        elif opt in ("-t", "--take"):
            take = arg
        elif opt in ("-m", "--modelname"):
            modelname = arg

    if(take is None):
        print "Must specify take with -t or --take"
        sys.exit()

    if(modelname is None):
        print "Must specify model name with -m or --modelname"
        sys.exit()

    # Read in model list
    data = sersic1.readlist(take, modelname)
    
    

if __name__ == "__main__": 
    try:
        main(sys.argv[1:])
    except:
        import sys
        tb = sys.exc_info()[2]
        pdb.post_mortem(tb)
